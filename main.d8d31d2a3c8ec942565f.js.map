{"version":3,"sources":["webpack:///./index.js","webpack:///./fetchCountries.js"],"names":["debounce","require","input","document","querySelector","searchResult","oninput","e","value","searchQuery","callback","onGetData","fetch","then","res","ok","json","Promise","reject","d","catch","err","console","warn","error","text","delay","data","countriesArray","countries","country","countryItem","length","compile","template","innerHTML","insertAdjacentHTML","obj","printError","addEventListener","passive"],"mappings":"2LACA,IAAIA,EAAWC,EAAQ,QAOjBC,EAAQC,SAASC,cAAc,SAC/BC,EAAeF,SAASC,cAAc,cACtCE,EAAUN,GAIhB,SAAoBO,GAGC,KAAfL,EAAMM,QCX2BC,EDYpBP,EAAMM,MCZ2BE,EDYpBC,ECX5BC,MAHa,yCAGIH,GAChBI,MAAK,SAAAC,GACF,OAAIA,EAAIC,GACDD,EAAIE,OAGAC,QAAQC,OAAOJ,MAG7BD,MAAK,SAAAM,GAAC,OAAET,EAASS,MACjBC,OAAM,SAAAC,GACHC,QAAQC,KAAK,gCAEGC,gBAAM,CAClBC,KAAM,gDACNC,MAAO,UAhBJ,IAAwBjB,EAAaC,IDIf,MAYrC,SAASC,EAAUgB,GA8DnB,IAA4BC,EAmBpBC,EA/DcC,EAsCdC,EAtDa,IAAfJ,EAAKK,QAgBWF,EAfTH,EAAK,GAqDVI,EAnCa9B,EAAQ,QACCgC,QAAX,m0BAkCGC,CAAUJ,GAC9BzB,EAAa8B,UAAU,GACvB9B,EAAa+B,mBAAmB,aAAcL,IApD1CJ,EAAKK,OAAQ,IAwDSJ,EAtDLD,EAyEfE,EAba5B,EAAQ,QACCgC,QAAX,4MAYCC,CAAUN,GAE5BvB,EAAa8B,UAAU,GACvB9B,EAAa+B,mBAAmB,aAAcP,IAIhD,SAAoBQ,GAElBhC,EAAa8B,UAAU,GAEPX,gBAAM,CACpBC,KAAM,4DACNC,MAAO,OAlFPY,GAvBJpC,EAAMqC,iBAAiB,QAAQjC,EAAQ,CAACkC,SAAS,M","file":"main.d8d31d2a3c8ec942565f.js","sourcesContent":["import './styles.css';\nvar debounce = require('lodash.debounce');\nimport fetchCountries from './fetchCountries.js'\nimport { error } from '@pnotify/core';\nimport '@pnotify/core/dist/BrightTheme.css'\nimport '@pnotify/core/dist/PNotify.css';\n\n\nconst input = document.querySelector('#srch');\nconst searchResult = document.querySelector('.searchRes');\nconst oninput = debounce(searchData, 1500)\ninput.addEventListener('input',oninput,{passive: true});\n\n\nfunction searchData(e){\n  // console.log(input.value);\n  \n  if (input.value !==''){\n    fetchCountries(input.value, onGetData); \n  }\n}\n\nfunction onGetData(data){\n\n  if (data.length ===1){\nprintCountry(data[0]);\n}\nelse{\n  if (data.length <10){\n    // console.log(data);\n    printCountriesList(data);\n  }\n  else {\n    // console.log(data.length);\n    printError(data);\n  }\n}\n}\n\n\nfunction printCountry(country){\n  // const lang = Object.values(country.languages[0]);\n  // console.log(lang);\n  const Handlebars = require('handlebars');\n  const template = Handlebars.compile(`\n  <h1 class=\"country__name\">{{name}}</h1>\n  \n  <div class=\"country_info\" style='display:flex; justify-content:space-between'>\n  <div class=\"country_data\" style='text-align:left'>\n      \n  <h2 class=\"country_cap\">Capital: <span style='font-weight:normal'>{{capital}}</span></h2>\n  <h2 class=\"country_popul\">Population: <span style='font-weight:normal'>{{population}}</span></h2>\n  {{#with languages}}\n  <h2 class=\"country_lang\">Languages:</h2>\n  <ul class=\"lang-list\" style='margin:0; font-weight:normal'>\n  {{#each this}}\n    <li class=\"lang-list__item\">{{this.name}}</li>\n    {{/each}}\n    \n  </ul>\n  {{/with}}\n  </div>\n  \n  \n  <div class=\"country_flag\">\n  <img\n  src={{flag}}\n  alt='flag'\n  class=\"country__image\"\n  style = 'width: 200px; height: 200px';\n  />\n  </div>\n\n  </div>\n  \n  `);\n  \n\n  const countryItem = template (country); \n  searchResult.innerHTML='';\n  searchResult.insertAdjacentHTML('afterbegin', countryItem);\n}\n\n\nfunction printCountriesList(countriesArray){\n\n  \n    // document.querySelector('searchRes').innerHTML=''; \n  \n\n  const Handlebars = require('handlebars');\n  const template = Handlebars.compile(`\n  \n  <ul class=\"countries-list\" style='margin:0; text-align:left; font-weight:bold'>\n  {{#each this}}\n    <li class=\"countriesList__item\">{{this.name}}</li>\n    {{/each}}\n    \n  </ul>\n  \n  `);\n  \n\n  const countries = template (countriesArray); \n  // console.log(countries)\n  searchResult.innerHTML='';\n  searchResult.insertAdjacentHTML('afterbegin', countries);\n}\n  \n\nfunction printError(obj){\n\n  searchResult.innerHTML='';\n  \n  const myError = error({\n    text: \"Too many matches found. Please enter more specific query!\",\n    delay: 1500\n  });\n  \n}","import { error } from '@pnotify/core';\r\nimport '@pnotify/core/dist/BrightTheme.css'\r\nimport '@pnotify/core/dist/PNotify.css';\r\n\r\nconst mainAddr = 'https://restcountries.eu/rest/v2/name/'\r\n\r\nexport default function fetchCountries(searchQuery, callback){\r\n    fetch(mainAddr + searchQuery)\r\n    .then(res=>{\r\n        if (res.ok){\r\n        return res.json()\r\n        }\r\n        else {\r\n            return Promise.reject(res)\r\n        }\r\n    })\r\n    .then(d=>callback(d))\r\n    .catch(err=>{\r\n        console.warn('No found any data.Error 404.');\r\n        // console.log(error)\r\n        const myError = error({\r\n            text: \"No matches found. Please enter another query!\",\r\n            delay: 2000\r\n          });\r\n    });\r\n}\r\n\r\n"],"sourceRoot":""}